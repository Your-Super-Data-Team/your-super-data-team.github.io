<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <title>Your Super Ad Name Helper</title>
  </head>
  <body>
    <div class="container">
        <div class="row page-header" style="margin-top:2em;">
            <div class="col-sm">
                <h1>Your Super Ad Naming Helper</h1>
            </div>
        </div>
        <div class="row" style="height:2em;"></div>
        <div class="row">
            <div class="col-sm">
                <h2 id="output" style="color:#ff8c00;">Output example </h2>
            </div>
        </div>
        <div class="row" style="height:2em;"></div>
        <div class="row">
            <div class="col-sm">
                <form id="categories">
                    <div class="mb-3">
                        <label for="channel" class="form-label">Channel</label>
                        <select class="form-select" aria-label="Channel Selector" name="Ad channel" id="channel">
                            <option value="PaidSocial">Paid Social</option>
                            <option value="PaidSearch">Paid Search</option>
                            <option value="Video">Video</option>
                            <option value="Shopping">Shopping</option>
                            <option value="Affiliate">Affiliate</option>
                            <option value="Display">Display</option>
                            <option value="Influencer">Influencer</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="region" class="form-label">Region</label>
                        <select class="form-select" aria-label="Channel Selector" id="region">
                            <option value="US">United States</option>
                            <option value="EU">European Union</option>
                            <option value="DE">Germany</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="platform" class="form-label">Platform</label>
                        <select class="form-select" aria-label="Channel Selector" id="platform">
                            <option value="FB">Facebook</option>
                            <option value="GOOGL">Google</option>
                            <option value="BNG">Bing</option>
                            <option value="YT">YouTube</option>
                            <option value="PIN">Pinterest</option>
                            <option value="Criteo">Criteo</option>
                            <option value="TT">TikTok</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="tactic" class="form-label">Tactic</label>
                        <select class="form-select" aria-label="Channel Selector" id="tactic">
                            <option value="PROS">Prospecting</option>
                            <option value="RET">Retention</option>
                            <option value="Mixed">Mixed</option>
                            <option value="NB">Non-Branded</option>
                            <option value="B">Branded</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="productCategory" class="form-label">Product Category</label>
                        <input type="text" class="form-control" id="productCategory">
                    </div>
                    <div class="mb-3">
                        <label for="audience" class="form-label">Audience</label>
                        <input type="text" class="form-control" id="audience">
                    </div>
                  <!-- <button type="submit" class="btn btn&#45;primary">Submit</button> -->
                </form>
            </div>
        </div>
    </div>

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
    <script src="js/lodash.min.js"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js" integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj" crossorigin="anonymous"></script>
    -->

    <script>
        const formElement = document.querySelector('#categories');
        const output = document.querySelector('#output');

        formElement.addEventListener('change', updateValue);

        function clean(given_string) {
            return _.upperFirst(_.camelCase(given_string).replace(/_|\s/gi, ""));
        }

        function updateValue(e) {
            var name = `${formElement.elements['channel'].value}_${formElement.elements['region'].value}_${formElement.elements['platform'].value}_${formElement.elements['tactic'].value}`;
            if (formElement.elements['productCategory'].value && formElement.elements['audience'].value) {
                name = name + "_" + clean(formElement.elements['productCategory'].value) + "_" + clean(formElement.elements['audience'].value)
            } else if (formElement.elements['productCategory'].value) {
                name = name + "_" + clean(formElement.elements['productCategory'].value)
            } else if (formElement.elements['audience'].value) {
                name = name + "__" + clean(formElement.elements['audience'].value)
            }
            output.textContent = name;
        }

        updateValue()
    </script>
  </body>
</html>
